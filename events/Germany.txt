###########################
# German Events
###########################

add_namespace = germany

# Austrian Anschluss Completed
country_event = {
	id = germany.4
	title = germany.4.t
	desc = germany.4.d
	picture = GFX_report_event_german_speech
	
	is_triggered_only = yes
	
 	immediate = {
 		hidden_effect = {
 			add_named_threat = { threat = 10 name = germany.4.t }
 		} 		
 	}

	option = {
		name = germany.4.a
		4 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		152 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		153 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		AUS = {
			every_unit_leader = {
				set_nationality = GER
			}
		}
		annex_country = { target = AUS transfer_troops = yes }
		add_political_power = 75
		set_country_flag = AUS_annexed
		add_war_support = 0.1
		add_stability = 0.05
		USA = {
			set_country_flag = { flag = USA_anschluss_window days = 60 value = 1 }
		}
		custom_effect_tooltip = anschluss_mefo_bills_tt
		hidden_effect = { # Having it appear twice might be confusing
			GER_mefo_bills_level_down = yes
			GER_mefo_bills_level_down = yes
		}
		custom_effect_tooltip = anschluss_mefo_bills_double_reduction
		add_to_variable = { var = GER_mefo_bill_counter value = -10 }
		
		if = {
			limit = {
				has_dlc = "Death or Dishonor"
				country_exists = YUG
				YUG = { has_war = no }
			}
			country_event = {
				id = DOD_yugoslavia.30
				days = 4
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.36 }
		}
	}
}

#anti_comintern_pact
# nations are asked to join pact, agreeing = relations with GER and hit with SOV 

country_event = {
	id = germany.5
	title = germany.5.t
	desc = germany.5.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = germany.5.a		#join
		ai_chance = {
			factor = 75
			modifier = {
				factor = 2
				has_opinion = {
					target = SOV
					value < -10
				}
			}
			modifier = {
				factor = 0.5
				has_opinion = {
					target = GER
					value < -10
				}
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				tag = JAP
				has_completed_focus = JAP_the_unthinkable_option
			}
			modifier = {
				factor = 0
				is_literally_china = yes
				JAP = { has_completed_focus = JAP_purge_the_kodoha_faction }
			}
			modifier = {
				factor = 0
				tag = JAP
				has_completed_focus = JAP_purge_the_kodoha_faction
				date < 1938.1.1
			}
		}
		set_country_flag = anti_comintern_member
		GER = { add_opinion_modifier = { target = ROOT modifier = anti_comintern_pact_opinion } }
		add_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		SOV  = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
	}
	
	option = {
		name = germany.5.b		#refuse
		trigger = { NOT = { is_puppet_of = GER } }
		ai_chance = { 
			factor = 25 
		}
		GER =  { add_opinion_modifier = { target = ROOT modifier = refused_anti_comintern_pact_opinion } }
	}

}

# tripartite_pact
# anti_comintern_pact nations are asked to join pact, agreeing = relations with GER and hit with SOV

# country_event = {
# 	id = germany.6
# 	title = germany.6.t
# 	desc = germany.6.d
# 	picture = GFX_report_event_hitler_croatia_handshake
	

# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.6.a		#join	
# 		remove_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
# 		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
# 		remove_opinion_modifier = { target = SOV modifier = pact_against_us }
# 		add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
# 	}
	
# 	option = {
# 		name = germany.6.b		#refuse
# 		trigger = { NOT = { is_puppet_of = GER } }
# 		add_opinion_modifier = { target = GER modifier = refused_tripartite_pact_opinion }
# 	}

# }

#molotov_ribbentrop_pact
# fire event to SOV to accept or not. adds claims
# SOV events sends reply to GER, adds claims if they said yes, hurts relations if they say no

# Molotov-Ribbentrop Pact (Soviets)
country_event = {
	id = germany.11
	title = germany.11.t
	desc = germany.11.d
	picture = GFX_report_event_molotov_ribentrop_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.11.a	#sounds good
		ai_chance = { 
			factor = 90 
			modifier = {
				factor = 0
				GER = {
					OR = { 
						has_wargoal_against = SOV
						is_justifying_wargoal_against = SOV
					}
					NOT = {
						is_in_faction_with = SOV
					}
				}
			}
		}
		add_opinion_modifier = { target = GER modifier = MR_pact }# pact		
		custom_effect_tooltip = germany.11.a.tt
		add_state_claim = 96
		add_state_claim = 11
		add_state_claim = 12
		add_state_claim = 13
		add_state_claim = 190
		add_state_claim = 191
		add_state_claim = 146
		add_state_claim = 147
		add_state_claim = 722
		add_state_claim = 189
		add_state_claim = 78
		add_state_claim = 89
		add_state_claim = 91
		add_state_claim = 93
		add_state_claim = 94
		add_state_claim = 95
		add_state_claim = 96
		add_state_claim = 97
		add_state_claim = 80
		add_state_claim = 784
		hidden_effect =  { add_timed_idea = { idea = SOV_molotov_ribbentrop_pact days = 730 } }
		GER = {
			country_event = { days = 1 id = germany.12 }
			effect_tooltip = {
				add_opinion_modifier = { target = SOV modifier = MR_pact }# pact
			}
		}
		set_global_flag = sov_yes_pact
	}
	
	# option = {
	# 	name = germany.11.b	#no way 
	# 	ai_chance = {
	# 		factor = 10
	# 		modifier = {
	# 			factor = 0
	# 			is_historical_focus_on = yes
	# 			GER = {
	# 				NOT = { has_wargoal_against = SOV }
	# 				NOT = { is_justifying_wargoal_against = SOV }
	# 			}
	# 		}
	# 		modifier = {
	# 			factor = 0
	# 			is_in_faction_with = GER
	# 		}
	# 	}
	# 	add_political_power = -50	
	# 	add_opinion_modifier = { target = GER modifier = refused_MR_pact }# no pact 
	# 	GER = {
	# 		country_event = { days = 1 id = germany.13 }
	# 	}
	# 	set_global_flag = sov_no_pact
	# }
}

# Soviets Sign MR Pact
country_event = {
	id = germany.12
	title = germany.12.t
	desc = germany.12.d
	picture = GFX_report_event_molotov_signing_pact
	
	is_triggered_only = yes
	
	option = {
		name = germany.12.a	#neat
		every_other_country = {
			limit = {
				NOT = { tag = GER }
				has_government = fascism 
			}
			add_opinion_modifier = { target = GER modifier = MR_pact_fascists }
		}
		diplomatic_relation = { country = SOV relation = non_aggression_pact }
		add_opinion_modifier = { target = SOV modifier = MR_pact }# pact
		USA = {
			set_country_flag = { flag = USA_MR_window days = 60 value = 1 }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.32 }
		}
	}
}

# Soviets Reject MR Pact
# country_event = {
# 	id = germany.13
# 	title = germany.13.t
# 	desc = germany.13.d
# 	picture = GFX_report_event_stalin_01

# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.13.a	#bah
# 		add_opinion_modifier = { target = SOV modifier = refused_MR_pact }# no pact
# 	}
# }

# Poland conquered... honor MR Pact?
country_event = {
	id = germany.14
	title = germany.14.t
	desc = germany.14.d
	picture = GFX_report_event_german_troops
	
	fire_only_once = yes

	trigger = {
		tag = GER
		has_global_flag = sov_yes_pact
		SOV = { exists = yes }
		NOT =  { has_war_with = SOV }
		OR = {
			AND = {
				OR = {
					owns_state = 96
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 96
					}
				}
				OR = {
					owns_state = 95
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 95
					}
				}
				OR = {
					owns_state = 94
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 94
					}
				}
				OR = {
					owns_state = 93
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 93
					}
				}
				OR = {
					owns_state = 91
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 91
					}
				}
				OR = {
					owns_state = 97
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 97
					}
				}
				OR = {
					owns_state = 89
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 89
					}
				}
				OR = {
					owns_state = 784
					any_other_country = {
						is_in_faction_with = GER
						GER = {
							is_faction_leader = yes
						}
						owns_state = 784
					}
				}
			}
			AND = {
				POL = { has_capitulated = yes }
				AND = {
					OR = {
						controls_state = 96
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 96
						}
					}
					OR = {
						controls_state = 95
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 95
						}
					}
					OR = {
						controls_state = 94
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 94
						}
					}
					OR = {
						controls_state = 93
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 93
						}
					}
					OR = {
						controls_state = 91
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 91
						}
					}
					OR = {
						controls_state = 97
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 97
						}
					}
					OR = {
						controls_state = 89
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 89
						}
					}
					OR = {
						controls_state = 784
						any_other_country = {
							is_in_faction_with = GER
							GER = {
								is_faction_leader = yes
							}
							controls_state = 784
						}
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				AND = {
					POL = {
						is_ai = no
						has_civil_war = no
					}
					is_in_faction_with = POL
				}
			}
		}
		name = germany.14.a
		if = {
			limit = {
				96 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 96
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 96 }
		}
		if = {
			limit = {
				95 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 95
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 95 }
		}
		if = {
			limit = {
				94 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 94
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 94 }
		}
		if = {
			limit = {
				93 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 93
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 93 }
		}
		if = {
			limit = {
				91 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 91
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 91 }
		}
		if = {
			limit = {
				97 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 97
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 97 }
		}
		if = {
			limit = {
				89 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 89
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 89 }
		}
		if = {
			limit = {
				784 = {
					OR = {
						is_controlled_by = GER
						any_other_country = {
							controls_state = 784
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 784 }
		}
		SOV = { country_event = germany.15 }
	}
}

# Germany honors MR Pact (Soviets)
country_event = {
	id = germany.15
	title = germany.15.t
	desc = germany.15.d
	picture = GFX_report_event_soviet_german_soldier_handshake

	is_triggered_only = yes
	
	option = {
		name = germany.12.a
		if = {
			limit = {
				SOV = {
					controls_state = 93
					controls_state = 94
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.33 }
			}
		}
	}
}

# Second Vienna Award
country_event = {
	id = germany.20
	title = germany.20.t
	desc = germany.20.d
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = { # Give Hungary Northern Transylvania
		name = germany.20.a
		ai_chance = { factor = 80 }
		add_named_threat = { threat = 2 name = GER_second_vienna_award_HUN_north }
		HUN = {
			set_country_flag = GER_second_vienna_award_HUN_north
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_north } 
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_north }
			country_event = { id = romania.2 }
		}
	}
	option = { # Give Hungary all of Transylvania
		trigger = {
			ROM = {
				controls_state = 77
				controls_state = 83
				controls_state = 84
			}
		}
		name = germany.20.b
		ai_chance = { 
			factor = 10 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_named_threat = { threat = 3 name = GER_second_vienna_award_HUN_all }
		HUN = { 
			set_country_flag = GER_second_vienna_award_HUN_all
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_all } 
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_all }
			country_event = { id = romania.3 }
		}
	}
	option = { # Give Hungary nothing
		name = germany.20.c
		ai_chance = { 
			factor = 10 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		ROM = {
			country_event = { id = romania.4 }
		}
		HUN = {
			set_country_flag = GER_second_vienna_award_noland
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_noland }
			country_event = { id = hungary.1 }
		}
	}
}

# Romania Rejects Decision!
# country_event = {
# 	id = germany.21
# 	title = germany.21.t
# 	desc = germany.21.d
# 	picture = GFX_report_event_vienna_award_hungary
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.21.a
# 		create_wargoal = {
# 			type = take_state_focus
# 			target = ROM
# 			generator = { 76 }
# 		}
# 	}
# }

# Claim Memel - Lithuania Folds
country_event = {
	id = germany.22
	title = germany.22.t
	desc = germany.22.d
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = {
		name = germany.22.a
		# GER = { 
		# 	transfer_state = 188
		# 	add_state_core = 188
		# }
		hidden_effect = {
			country_event = { days = 1 id = news.19 }
		}
	}
}

# Claim Memel - Lithuania Rejects Demand
# country_event = {
# 	id = germany.23
# 	title = germany.23.t
# 	desc = germany.23.d
# 	picture = GFX_report_event_lithuania_army

# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.23.a
# 		create_wargoal = {
# 			type = take_state_focus
# 			target = LIT
# 			generator = { 188 }
# 		}
# 		hidden_effect = {
# 			country_event = { days = 1 id = news.20 }
# 		}
# 	}
# }

# Japan Demands Withdrawal of Falkenhausen
# country_event = {
# 	id = germany.24
# 	title = germany.24.t
# 	desc = germany.24.d
# 	picture = GFX_report_event_hitler_china

# 	is_triggered_only = yes
	
# 	option = { # Agree
# 		name = germany.24.a
# 		trigger = {
# 			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
# 		}
# 		JAP = {
# 			country_event = { days = 1 id = japan.8 }
# 		}
# 		CHI = {
# 			country_event = { days = 1 id = china.2 }
# 			effect_tooltip = {
# 				remove_ideas = german_advisors
# 				show_ideas_tooltip = german_advisors
# 			}
# 		}
# 	}
# 	option = { # Refuse
# 		name = germany.24.b
# 		trigger = {
# 			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
# 		}
# 		JAP = {
# 			country_event = { days = 1 id = japan.9 }
# 		}
# 	}

# 	option = { # Refuse, promised the Chinese in return for Tsingtao
# 		name = germany.24.c
# 		trigger = {
# 			has_country_flag = GER_von_falkenhausen_promise_to_china
# 		}
# 		JAP = {
# 			country_event = { days = 1 id = japan.9 }
# 		}
# 	}
# }

# Fortifying the Westwall
country_event = {
	id = germany.27
	title = germany.27.t
	desc = germany.27.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes
	
	option = {
		name = germany.27.a
		50 = {
			add_building_construction = {
				type = bunker
				province = 11640
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 6712
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 6542
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 3530
				level = 5
			}
		}
		42 = {	
			add_building_construction = {
				type = bunker
				province = 3558
				level = 5
			}		
			add_building_construction = {
				type = bunker
				province = 563
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 11531
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 9575
				level = 5
			}
		}
	}
}

# Austria asked about Anschluss
country_event = {
	id = germany.28
	title = germany.28.t
	desc = germany.28.d
	picture = GFX_report_event_hitler_parade
	
	is_triggered_only = yes
	
	option = { # Accept
		name = germany.28.a
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				GER = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 100
				GER = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = 20
				is_in_faction_with = GER
			}
		}
		GER = {
			country_event = { hours = 2 id = germany.4 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	# option = { # Refuse
	# 	name = germany.28.b
	# 	ai_chance = {
	# 		base = 10			
	# 		modifier = {
	# 			factor = 0
	# 			is_historical_focus_on = yes
	# 			NOT = { HUN = { has_completed_focus = HUN_protect_austria } }
	# 		}
	# 		modifier = {
	# 			GER = { has_army_size = { size > 39 } }
	# 			factor = 0.5
	# 		}
	# 		modifier = {
	# 			add = 20
	# 			GER = { has_army_size = { size < 30 } }
	# 		}
	# 		modifier = {
	# 			add = 100
	# 			HUN = { 
	# 				OR = { 
	# 					has_completed_focus = HUN_protect_austria 
	# 					is_in_faction_with = AUS
	# 				}
	# 			}
	# 		}
	# 		modifier = {
	# 			factor = 2
	# 			is_in_faction = yes
	# 			NOT = { is_in_faction_with = GER }
	# 		}
	# 		modifier = {
	# 			any_other_country = {
	# 				has_guaranteed = AUS
	# 			}
	# 			factor = 5 #i've got friends
	# 		}
	# 		modifier = {
	# 			any_other_country = {
	# 				is_major = yes
	# 				has_guaranteed = AUS
	# 			}
	# 			factor = 5 #i've got big friends
	# 		}
	# 	}
	# 	GER = {
	# 		add_opinion_modifier = { target = ROOT modifier = GER_anschluss_rejected }
	# 		country_event = { hours = 2 id = germany.29 }
	# 		if = { limit = { is_in_faction_with = AUS }
	# 			remove_from_faction = AUS
	# 		}
	# 	}
	# }
}


### Munich Conference

# Britain
# country_event = {
# 	id = germany.40
# 	title = germany.40.t
# 	desc = {
# 		text = germany.40.d
# 		trigger = { NOT = { has_war_with = GER } }
# 	}
# 	desc = {
# 		text = germany.40.d_2
# 		trigger = { has_war_with = GER }
# 	}
# 	desc = {
# 		text = germany.40.d_3
# 		trigger = {
# 			NOT = { has_war_with = GER }
# 			tag = HOL
# 		}
# 	}
# 	picture = GFX_report_event_german_politician_speech
	
# 	is_triggered_only = yes
	
# 	option = { # Abandon the Czechs
# 		name = germany.40.a
# 		ai_chance = { 
# 			factor = 90 
# 			modifier = {
# 				factor = 0.3
# 				has_government = communism
# 				CZE = { has_government = communism }
# 			}
# 			modifier = {
# 				has_global_flag = GER_has_started_war
# 				NOT = { is_in_faction_with = GER }
# 				factor = 0
# 			}
# 			modifier = {
# 				factor = 0
# 				OR = {
# 					has_game_rule = {
# 						rule = ENG_ai_behavior 
# 						option = DEMOCRATIC_HISTORICAL
# 					}
# 					has_game_rule = {
# 						rule = ENG_ai_behavior 
# 						option = DEMOCRATIC_ALTERNATE
# 					}
# 					has_game_rule = {
# 						rule = ENG_ai_behavior 
# 						option = FASCIST
# 					}
# 					has_war_with = GER
# 					is_in_faction_with = CZE
# 				}
# 			}
# 		}
# 		trigger = {
# 			NOT = { has_war_with = GER } 
# 			is_puppet = no # can't do anything if puppet
# 		}
# 		if = {
# 			limit = {
# 				has_completed_focus = ENG_no_further_appeasement
# 			}
# 			add_political_power = -200
# 		}
# 		if = {
# 			limit = {
# 				tag = HOL
# 			}
# 			ENG = { country_event = germany.40 }
# 		}
# 		if = {
# 			limit = {
# 				tag = ENG
# 			}
# 			FRA = { country_event = germany.41 }
# 		}
# 		CZE = {
# 			add_opinion_modifier = { target = ROOT modifier = western_betrayal }
# 		}
# 		if = {
# 			limit = {
# 				tag = HOL
# 				CZE = { is_guaranteed_by = HOL }
# 			}
# 			HOL = {
# 				diplomatic_relation = {
#    					country = CZE
#    					relation = guarantee
#    					active = no
#   				}
#   				add_ai_strategy = {
# 					type = ignore
# 					id = "CZE"
# 					value = 100
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				tag = ENG
# 				CZE = { is_guaranteed_by = ENG }
# 			}
# 			ENG = {
# 				diplomatic_relation = {
#    					country = CZE
#    					relation = guarantee
#    					active = no
#   				}
#   				add_ai_strategy = {
# 					type = ignore
# 					id = "CZE"
# 					value = 100
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				CZE = { is_in_faction_with = ROOT }
# 				is_faction_leader = yes
# 			}
# 			remove_from_faction = CZE
# 		}
# 	}
# 	option = { # Support the Czechs
# 		name = germany.40.b	
# 		ai_chance = {
# 			factor = 10
# 			modifier = {
# 				factor = 0
# 				is_in_faction_with = GER
# 			}
# 			modifier = {
# 				factor = 0
# 				ENG_is_on_historical_plan_trigger = yes
# 				NOT = { 
# 					OR = { 
# 						is_in_faction_with = CZE
# 						has_war_with = GER
# 					}
# 				}
# 			}				
# 			modifier = {
# 				factor = 3
# 				has_government = communism
# 				CZE = { has_government = communism }
# 			}
# 			modifier = {
# 				factor = 0
# 				AND = {
# 					OR = {
# 						has_game_rule = {
# 							rule = ENG_ai_behavior 
# 							option = NEUTRALITY
# 						}
# 						has_game_rule = {
# 							rule = ENG_ai_behavior 
# 							option = COMMUNIST
# 						}
# 					}
# 					NOT = { 
# 						OR = { 
# 							is_in_faction_with = CZE
# 							has_war_with = GER
# 						}
# 					}
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction_with = GER
# 				is_faction_leader = yes
# 			}
# 			remove_from_faction = GER
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction_with = GER
# 				is_faction_leader = no
# 			}
# 			GER = { remove_from_faction = ENG }
# 		}
# 		if = {
# 			limit = {
# 				NOT = { has_completed_focus = ENG_no_further_appeasement }
# 			}
# 			add_political_power = -200
# 		}
# 		add_opinion_modifier = { target = GER modifier = condemn_aggression }
# 		effect_tooltip = {
# 			GER = {
# 				create_wargoal = {
# 					type = take_state_focus
# 					target = CZE
# 					generator = { 69 }
# 				}
# 			}
# 		}
# 		if = {
# 			limit = { 
# 				is_in_faction = yes
# 				CZE = { is_in_faction = no } 
# 			}
# 			random_country = {
# 				limit = {
# 					is_faction_leader = yes
# 					is_in_faction_with = ROOT #this may in fact be ROOT, since countries are in a faction with themselves!
# 				}
# 				add_to_faction = CZE
# 			}
# 		}
# 		if = {
# 			limit = {
# 				tag = HOL
# 			}
# 			CZE = {
# 				add_ai_strategy = {
# 					type = alliance
# 					id = "HOL"
# 					value = 200
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				tag = HOL
# 			}
# 			CZE = {
# 				add_ai_strategy = {
# 					type = alliance
# 					id = "ENG"
# 					value = 200
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				NOT = { tag = HOL }
# 				FRA = { 
# 					NOT = { has_war_with = CZE } 
# 				} 
# 			}
# 			FRA = { country_event = germany.42 }
# 		}
# 		CZE = {
# 			add_opinion_modifier = { target = ROOT modifier = offered_support }
# 		}
# 	}
# }

# # France (Britain Backs Down)
# country_event = {
# 	id = germany.41
# 	title = germany.40.t
# 	desc = germany.41.d
# 	picture = GFX_report_event_chamberlain_announce

# 	is_triggered_only = yes
	
# 	option = { # Follow Britain's lead
# 		name = germany.41.a
# 		ai_chance = {
# 			factor = 90
# 			modifier = {
# 				factor = 0
# 				is_in_faction_with = CZE
# 			}
# 			modifier = {
# 				factor = 0.3
# 				has_government = communism
# 				CZE = { has_government = communism }
# 			}
# 			modifier = {
# 				has_global_flag = GER_has_started_war
# 				factor = 0
# 			}
# 		}
# 		CZE = { 
# 			country_event = germany.46
# 			add_opinion_modifier = { target = FRA modifier = western_betrayal }
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction_with = CZE
# 				is_faction_leader = yes
# 			}
# 			if = {
# 				limit = {
# 					NOT = {
# 						any_other_country = { #check if CZE and FRA are the only countries in this faction
# 							NOT = { original_tag = CZE }
# 							is_in_faction_with = ROOT
# 						}
# 					}
# 				}
# 				dismantle_faction = yes 
# 			}
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction_with = CZE
# 				is_faction_leader = no
# 			}
# 			random_other_country = {
# 				limit = {
# 					is_in_faction_with = FRA
# 					is_faction_leader = yes
# 				}
# 				remove_from_faction = FRA
# 			}
# 		}
# 		if = {
# 			limit = {
# 				CZE = { is_guaranteed_by = FRA }
# 			}
# 			FRA = {
# 				diplomatic_relation = {
#    					country = CZE
#    					relation = guarantee
#    					active = no
#   				}
#   				add_ai_strategy = {
# 					type = ignore
# 					id = "CZE"
# 					value = 100
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				YUG = { is_guaranteed_by = FRA }
# 			}
# 			FRA = {
# 				diplomatic_relation = {
#    					country = YUG
#    					relation = guarantee
#    					active = no
#   				}
#   				add_ai_strategy = {
# 					type = ignore
# 					id = "YUG"
# 					value = 100
# 				}
# 			}
# 			YUG = {
# 				add_opinion_modifier = { target = FRA modifier = western_betrayal }
# 			}
# 		}
# 	}
# 	option = { # Support the Czechs alone
# 		name = germany.41.b	
# 		trigger = { is_puppet = no }
# 		ai_chance = {
# 			factor = 5
# 			modifier = {
# 				factor = 0
# 				is_in_faction_with = GER
# 			}
# 			modifier = {
# 				factor = 0
# 				is_historical_focus_on = yes
# 				NOT = {
# 					is_in_faction_with = CZE
# 				}
# 			}
# 			modifier = {
# 				factor = 6
# 				has_government = communism
# 				CZE = { has_government = communism }
# 			}
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction_with = CZE
# 				has_completed_focus = FRA_strengthen_the_little_entente
# 			}
# 			add_political_power = -100
# 		}
# 		if = {
# 			limit = {
# 				OR = {
# 					NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
# 					NOT = { is_in_faction_with = CZE } 
# 				}
# 			}
# 			add_political_power = -200
# 		}
# 		add_opinion_modifier = { target = GER modifier = condemn_aggression }
# 		CZE = { 
# 			country_event = germany.45
# 			add_opinion_modifier = { target = FRA modifier = offered_support }
# 		}
# 		GER = {
# 			country_event = germany.48
# 			effect_tooltip = {
# 				create_wargoal = {
# 					type = take_state_focus
# 					target = CZE
# 					generator = { 69 }
# 				}
# 			}
# 		}
# 		if = {
# 			limit = { is_in_faction_with = ENG }
# 			ENG = { 
# 				country_event = germany.43 
# 				if = {
# 					limit = {
# 						is_faction_leader = yes
# 					}
# 					remove_from_faction = FRA
# 					else = {
# 						FRA = { remove_from_faction = ENG }
# 					}
# 				}
# 			}
# 		}
# 		if = {
# 			limit = { is_in_faction_with = GER }
# 			if = {
# 				limit = { GER = { is_faction_leader = yes } }
# 				GER = { 
# 					remove_from_faction = FRA
# 				}
# 				else = {
# 					remove_from_faction = GER
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction = yes
# 				is_faction_leader = yes
# 				NOT = { is_in_faction_with = ENG }
# 				NOT = { is_in_faction_with = GER }
# 				NOT = { is_in_faction_with = CZE }
# 				CZE = { is_in_faction = no }
# 			}
# 			add_to_faction = CZE
# 			CZE = {
# 				add_ai_strategy = {
# 					type = alliance
# 					id = "FRA"
# 					value = 200
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				OR = {
# 					is_in_faction = no
# 					AND = {
# 						is_faction_leader = no
# 						is_in_faction_with = ENG
# 					}
# 					is_in_faction_with = GER
# 				}
# 				CZE = { is_in_faction = no }
# 			}
# 			create_faction = "french_alliance"
# 			set_rule = { can_create_factions = yes }
# 			add_to_faction = CZE
# 			CZE = {
# 				add_ai_strategy = {
# 					type = alliance
# 					id = "FRA"
# 					value = 200
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction = no
# 				CZE = { 
# 					is_faction_leader = yes 
# 					has_completed_focus = CZE_an_entente_of_our_own
# 				}
# 			}
# 			CZE = { add_to_faction = FRA }
# 			FRA = {
# 				add_ai_strategy = {
# 					type = alliance
# 					id = "CZE"
# 					value = 200
# 				}
# 			}
# 		}
# 		if = {
# 			limit = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
# 			add_stability = 0.05
# 		}
# 	}
# }

# France (Britain Supports the Czechs)
# country_event = {
# 	id = germany.42
# 	title = germany.40.t
# 	desc = germany.42.d
# 	picture = GFX_report_event_czech_soldiers_01
	
# 	is_triggered_only = yes
	
# 	#Support
# 	option = {
# 		name = germany.42.a
# 		trigger = {
# 			is_subject = no
# 		}
# 		ai_chance = {
# 			factor = 90
# 			modifier = {
# 				factor = 0
# 				is_in_faction_with = GER
# 			}
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction = yes
# 				NOT = { is_in_faction_with = ENG }
# 				NOT = { is_in_faction_with = CZE }
# 				NOT = { has_guaranteed = CZE }
# 			}
# 			give_guarantee = CZE
# 		}
# 		if = {
# 			limit = { 
# 				is_in_faction = no
# 			}
# 			ENG = { add_to_faction = FRA }
# 			add_ai_strategy = {
# 				type = alliance
# 				id = "ENG"
# 				value = 200
# 			}
# 		}
# 		if = {
# 			limit = {
# 				is_in_faction_with = CZE
# 				has_completed_focus = FRA_strengthen_the_little_entente
# 				is_faction_leader = yes
# 				NOT = { is_in_faction_with = ENG }
# 			}
# 			add_to_faction = ENG #Britain joins the little entente
# 			every_other_country = {
# 				limit = { is_subject_of = ENG }
# 				ROOT = { add_to_faction = PREV }
# 			}
# 		}
# 		add_opinion_modifier = { target = GER modifier = condemn_aggression }
# 		CZE = { 
# 			country_event = germany.44
# 			add_opinion_modifier = { target = FRA modifier = offered_support }
# 		}
# 		GER = {
# 			country_event = germany.47
# 			effect_tooltip = {
# 				create_wargoal = {
# 					type = take_state_focus
# 					target = CZE
# 					generator = { 69 }
# 				}
# 			}
# 		}
# 	}

# 	#Abandon
# 	option = {
# 		name = germany.42.b
# 		trigger = {
# 			NOT = { is_in_faction_with = ENG }
# 			NOT = { is_in_faction_with = CZE }
# 		}
# 		ai_chance = { 
# 			factor = 10 
# 			modifier = {
# 				has_global_flag = GER_has_started_war
# 				NOT = { is_in_faction_with = GER } #FRA doesn't care if in faction
# 				factor = 0
# 			}
# 		}
# 		if = {
# 			limit = {
# 				CZE = { is_guaranteed_by = FRA }
# 			}
# 			FRA = {
# 				diplomatic_relation = {
#    					country = CZE
#    					relation = guarantee
#    					active = no
#   				}
#   				add_ai_strategy = {
# 					type = ignore
# 					id = "CZE"
# 					value = 100
# 				}
# 			}
# 		}
# 		if = {
# 			limit = {
# 				YUG = { is_guaranteed_by = FRA }
# 			}
# 			FRA = {
# 				diplomatic_relation = {
#    					country = YUG
#    					relation = guarantee
#    					active = no
#   				}
#   				add_ai_strategy = {
# 					type = ignore
# 					id = "YUG"
# 					value = 100
# 				}
# 			}
# 			YUG = {
# 				add_opinion_modifier = { target = FRA modifier = western_betrayal }
# 			}
# 		}
# 		CZE = {
# 			country_event = germany.44
# 			add_opinion_modifier = { target = FRA modifier = western_betrayal }
# 		}
# 		GER = {
# 			country_event = germany.47
# 			effect_tooltip = {
# 				create_wargoal = {
# 					type = take_state_focus
# 					target = CZE
# 					generator = { 69 }
# 				}
# 			}
# 		}		
# 	}
# }

# France leaves the Allies
# country_event = {
# 	id = germany.43
# 	title = germany.43.t
# 	desc = germany.43.d
# 	picture = GFX_report_event_french_british_officers
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.43.a
# 		FRA = {
# 			add_opinion_modifier = { target = ENG modifier = abandoned_czechs }
# 		}
# 	}
# }

# Czechoslovakia (British and (possibly) French Support)
# country_event = {
# 	id = germany.44
# 	title = germany.40.t
# 	desc = germany.44.d
# 	picture = GFX_report_event_german_inspect_troops
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.44.a
# 		effect_tooltip = {
# 			GER = {			
# 				create_wargoal = {
# 					type = take_state_focus
# 					target = CZE
# 					generator = { 69 }
# 				}
# 			}
# 		}
# 	}
# }

# # Czechoslovakia (French Support)
# country_event = {
# 	id = germany.45
# 	title = germany.40.t
# 	desc = germany.45.d
# 	picture = GFX_report_event_chamberlain_announce
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.45.a
# 		effect_tooltip = {
# 			GER = {
# 				create_wargoal = {
# 					type = take_state_focus
# 					target = CZE
# 					generator = { 69 }
# 				}
# 			}
# 		}
# 	}
# }

# # Czechoslovakia (Abandoned)
# country_event = {
# 	id = germany.46
# 	title = germany.46.t
# 	desc = germany.46.d
# 	picture = GFX_report_event_czech_soldiers_01
	
# 	is_triggered_only = yes
	
# 	option = { # Surrender the Sudetenland
# 		name = germany.46.a
# 		ai_chance = {
# 			factor = 90
# 			modifier = { # Decrease chance CZE resists if AUS isn't taken first
# 				AUS = { exists = yes }
# 				factor = 0.5
# 			}
# 			modifier = { # If they stand a chance they will fight
# 				factor = 0
# 				strength_ratio = {
# 					tag = GER
# 					ratio > 0.75
# 				}
# 				NOT = {
# 					any_neighbor_country = {
# 						NOT = { tag = GER }
# 						is_in_faction_with = GER
# 					}
# 				}
# 			}
# 			modifier = {
# 				factor = 0 #if you lead a faction, fight
# 				is_faction_leader = yes
# 			}
# 			modifier = {
# 				factor = 0.5 #if you are in a faction, maybe fight
# 				is_faction_leader = no
# 				is_in_faction = yes
# 			}
# 			modifier = {
# 				factor = 0.05 #if you are in a faction with a major, probably fight
# 				is_faction_leader = no
# 				is_in_faction = yes
# 				any_allied_country = {
# 					is_major = yes
# 				}
# 			}
# 			modifier = {
# 				factor = 0
# 				is_puppet = yes
# 				NOT = { is_puppet_of = GER } #puppeted CZE wouldn't surrender Sudetenland otherwise
# 			}
# 			modifier = { # Increase it again if other bordering nations are in Axis
# 				any_neighbor_country = {
# 					NOT = { tag = GER }
# 					is_in_faction_with = GER
# 				}
# 				factor = 2.0
# 			}
# 		}
# 		GER = { country_event = germany.50 }
# 	}
# 	option = { # Refuse anyway
# 		name = germany.46.b
# 		ai_chance = { 
# 			factor = 10 
# 			modifier = {
# 				factor = 0.5
# 				strength_ratio = {
# 					tag = GER
# 					ratio < 0.5
# 				}
# 			}
# 			modifier = {
# 				factor = 0
# 				is_historical_focus_on = yes
# 			}
# 		}
# 		GER = {
# 			add_opinion_modifier = { target = ROOT modifier = GER_demand_sudetenland_rejected }
# 			set_global_flag = CZE_refused_sudetenland
# 			country_event = germany.49
# 			effect_tooltip = {
# 				if = {
# 					limit = {
# 						CZE = {
# 							is_in_faction_with = GER
# 						}
# 					}		
# 					GER = { remove_from_faction = CZE }
# 				}
# 				create_wargoal = {
# 					type = take_state_focus
# 					target = CZE
# 					generator = { 69 74 }
# 				}
# 			}
# 		}
# 	}
# }

# Germany (British and (possibly) French Support for Czechoslovakia)
# country_event = {
# 	id = germany.47
# 	title = germany.40.t
# 	desc = germany.47.d
# 	picture = GFX_report_event_german_inspect_troops
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.47.a
# 		create_wargoal = {
# 			type = take_state_focus
# 			target = CZE
# 			generator = { 69 74 }
# 		}
# 		add_state_claim = 69
# 		add_state_claim = 74
# 		hidden_effect = {
# 			news_event = { hours = 6 id = news.57 }
# 		}
# 		set_country_flag = allies_support_czechs
# 	}
# }

# # Germany (French Support for Czechoslovakia)
# country_event = {
# 	id = germany.48
# 	title = germany.40.t
# 	desc = germany.48.d
# 	picture = GFX_report_event_chamberlain_announce
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.48.a
# 		create_wargoal = {
# 			type = take_state_focus
# 			target = CZE
# 			generator = { 69 74 }
# 		}
# 		add_state_claim = 69
# 		add_state_claim = 74
# 		hidden_effect = {
# 			country_event = { hours = 6 id = news.58 }
# 		}
# 	}
# }

# # Germany (Czechoslovakia Refuses Demands)
# country_event = {
# 	id = germany.49
# 	title = germany.40.t
# 	desc = germany.49.d
# 	picture = GFX_report_event_czech_soldiers_02
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.49.a
# 		create_wargoal = {
# 			type = take_state_focus
# 			target = CZE
# 			generator = { 69 74 }
# 		}
# 		add_state_claim = 69
# 		add_state_claim = 74
# 		if = {
# 			limit = {
# 				CZE = {
# 					is_in_faction_with = GER
# 				}
# 			}
# 			GER = { remove_from_faction = CZE }
# 		}
# 		hidden_effect = {
# 			country_event = { hours = 6 id = news.59 }
# 		}
# 	}
# }

# # Germany (Czechoslovakia Surrenders Sudetenland)
# country_event = {
# 	id = germany.50
# 	title = germany.40.t
# 	desc = germany.50.d
# 	picture = GFX_report_event_german_politician_speech
	
# 	is_triggered_only = yes
	
# 	option = {
# 		name = germany.50.a
# 		69 = { add_core_of = GER }
# 		GER = { transfer_state = 69 }
# 		74 = { add_core_of = GER }
# 		GER = { transfer_state = 74 }
# 		set_country_flag = sudetenland_acquired
# 		add_war_support = 0.1
# 		add_stability = 0.05
# 		USA = {
# 			set_country_flag = { flag = USA_munich_window days = 60 value = 1 }
# 		}
# 		if = {
# 			limit = {
# 				88 = { is_owned_by = POL }
# 			}
# 			POL = { 
# 				country_event = { hours = 6 id = germany.52 }
# 			}
# 		}
# 		hidden_effect = {
# 			country_event = { hours = 6 id = news.56 }
# 			if = {
# 				limit = {
# 					has_dlc = "Death or Dishonor"
# 					country_exists = YUG
# 					YUG = { has_war = no }
# 					ENG = { NOT = { has_war_with = YUG } }
# 					ENG = { has_government = democratic }
# 				}
# 				ENG = {
# 					country_event = {
# 						id = DOD_yugoslavia.42
# 						days = 3
# 					}
# 				}
# 			}
# 		}
# 	}
# }

# Hungary (First Vienna Award)
country_event = {
	id = germany.51
	title = germany.51.t
	desc = germany.51.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = germany.51.a
	}
}

# The Fate of Czechoslovakia
country_event = {
	id = germany.55
	title = germany.53.t
	desc = {
		text = germany.55.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.55.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.55.a
		set_global_flag = CZE_annex_slovakia
		ai_chance = { factor = 80 }
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes	
		hidden_effect = {
			country_event = { hours = 6 id = news.60 }
		}
	}
	option = {
		name = germany.55.b
		add_political_power = -20
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		HUN = { country_event = germany.56 }
		set_global_flag = CZE_annex_split
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
	}
	option = {
		name = germany.55.c
		add_political_power = -50
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.62 }
		}	
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
	}
}

# Hungary asked to partition Czechoslovakia
country_event = {
	id = germany.56
	title = germany.56.t
	desc = {
		text = germany.56.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.56.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.56.a
	}
}

# Polish Question Completed
country_event = {
	id = germany.58
	title = germany.58.t
	desc = germany.58.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.58.a
		add_political_power = 150
	}

}

# Anschluss Preparations
country_event = {
	id = germany.74
	title = germany.74.t
	desc = germany.74.d
	picture = GFX_report_event_fascist_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.74.a
		#add_ideas = elyesa_bazna
	}
}

# German-Soviet Treaty (Soviets)
country_event = {
	id = germany.75
	title = germany.75.t
	desc = germany.75.d
	picture = GFX_report_event_physics_lab_01
	
	is_triggered_only = yes
	
	option = {
		name = germany.75.a	#sounds good
		GER = {
			country_event = { days = 1 id = germany.76 }
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty_trade
			}
		}
		# REVISIT Balance research bonus
		give_SOV_armor_research_bonuses = yes
	}
	
	option = {
		name = germany.75.b	#no way 
		add_timed_idea = { idea = SOV_scientist_defect days = 365 }
		ai_chance = { factor = 0 }
		add_political_power = -10
		add_opinion_modifier = { target = GER modifier = refused_MR_pact }# no pact 
		GER = {
			country_event = { days = 1 id = germany.77 }
		}
	}
}

# Soviets Accept German-Soviet Treaty
country_event = {
	id = germany.76
	title = germany.76.t
	desc = germany.76.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes
	
	option = {
		name = germany.76.a	#bah
		# REVISIT Balance research bonus
		add_tech_bonus = {
			name = GER_soviet_treaty
			ahead_reduction = 2
			technology = basic_medium_tank
		}
		add_tech_bonus = {
			name = GER_soviet_treaty
			bonus = 1.0
			uses = 2
			category = armor
		}
		SOV = {
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty }
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty_trade }
		}
	}
}

# German Joint Air Research
country_event = {
	id = germany.78
	title = germany.78.t
	desc = germany.78.d
	picture = GFX_report_event_radar_01

	is_triggered_only = yes
	
	option = {
		name = germany.78.a
		add_ideas = GER_air_innovations_2_idea
		add_tech_bonus = {
				name = radar_tech_bonus
				bonus = 1.0
				uses = 1
				category = radar_tech
			}
	}
}

# Poland Refuses to give up Danzig
country_event = {
	id = germany.82
	title = germany.82.t
	desc = germany.82.d
	picture = GFX_report_event_polish_army

	is_triggered_only = yes
	
	option = {
		name = germany.82.a
	}
}

# Call Pact Members to War (Instigator)
country_event = {
	id = germany.84
	title = germany.84.t
	desc = germany.84.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}

	option = {
		name = germany.84.a
		every_other_country = {
			limit = {
				has_idea = anti_soviet_pact
				NOT = { has_war_with = SOV }
				is_subject = no
				any_other_country = {
					has_idea = anti_soviet_pact
					has_war_with = SOV
				}
			}
			country_event = { id = germany.85 days = 1 }
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
					has_government = neutrality
				}
				country_event = { id = germany.127 days = 7 random_days = 7 }
			}
		}
	}
}

# [From.GetName] Calls Pact Members to War
country_event = {
	id = germany.85
	title = germany.85.t
	title = {
		text = germany.85.t.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				NOT = { has_completed_focus = GER_danzig_for_guarantees }
			}
		}
	}
	title = {
		text = germany.85.t.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			has_completed_focus = GER_danzig_for_guarantees
		}
	}
	desc = { 
		text = germany.85.desc.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				NOT = { has_completed_focus = GER_danzig_for_guarantees }
			}
		}
	}
	desc = { 
		text = germany.85.desc.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			has_completed_focus = GER_danzig_for_guarantees
		}
	}
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes
	
	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}
	
	option = {
		name = germany.85.a
		ai_chance = {
			factor = 10
		}
		add_to_war = {
			targeted_alliance = FROM
			enemy = SOV
			hostility_reason = ally
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
				}
				country_event = { id = germany.127 days = 7 random_days = 7 }
			}
		}
	}

	option = {
		name = germany.85.b
		trigger = {
			NOT = { FROM = { original_tag = POL } }
			NOT = { original_tag = GER }
			NOT = { has_completed_focus = GER_danzig_for_guarantees }
		}
		ai_chance = {
			factor = 0
		}
		remove_ideas = anti_soviet_pact
		FROM = { add_opinion_modifier = { target = ROOT modifier = anti_soviet_pact_call_refused } }
		SOV = { remove_opinion_modifier = { target = SOV modifier = worse_pact_against_us } }
		add_timed_idea = {
			idea = anti_soviet_pact_refused_call
			days = 365 
		}
		custom_effect_tooltip = germany.85.b_tt
		hidden_effect = {
			country_event = { id = germany.112 days = 3 } 
		}
	}
}

# France national focus -  requests to join germany
country_event = {
	id = germany.91
	title = germany.91.t
	desc = germany.91.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes
		
	option = {
		name = germany.91.a
		GER = { add_to_faction = FRA }
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.182 }
		}
	}
	option = {
		name = germany.91.b
		ai_chance = { factor = 0 }
		FRA = {
			add_opinion_modifier = {
				target = GER
				modifier = GER_FRA_join_germany_reject
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.183 }
		}
	}
}

# France/England (Germany Refuses Ultimatum)
country_event = {
	id = germany.92
	title = germany.92.t
	desc = germany.92.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = germany.92.a
	}
}

# Germany (British and (possibly) French Support for Yugoslavia)
country_event = {
	id = germany.93
	title = germany.93.t
	desc = {
		text = germany.93.d
		trigger = { NOT = { has_global_flag = FRA_abandoned_yugoslavia } }
	}
	desc = {
		text = germany.93.d_FRA_abandoned_yugoslavia
		trigger = { has_global_flag = FRA_abandoned_yugoslavia }
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.93.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}
		hidden_effect = {
			news_event = { id = news.164 hours = 6 }
		}
		set_country_flag = allies_support_yugoslavia
	}
}

country_event = {
	id = germany.98
	title = germany.98.t
	desc = {
		text = germany.98.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.98.a
		ai_chance = { factor = 20 }

		if = {
			limit = {
				YUG = {
					OR = {
						is_in_faction = yes
						any_other_country = {
							has_guaranteed = YUG								
						}
					}
				}
			}
			YUG = { country_event = yugoslavia.7 }
			custom_effect_tooltip = germany.98_tt
			effect_tooltip = {
				add_political_power = -75
				add_named_threat = { threat = 5 name = GER_fate_of_yugoslavia }
				annex_country = { target = YUG transfer_troops = no }
			}
		}

		#If no guarantee or faction Yug has no choice
		if = {
			limit = {
				YUG = { 
					is_in_faction = no
					NOT = {
						any_other_country = {
							has_guaranteed = YUG								
						}
					}
				}
			}
			add_political_power = -75
			add_named_threat = { threat = 5 name = GER_fate_of_yugoslavia }
			annex_country = { target = YUG transfer_troops = no }

			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_annex_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}
		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
	}

	option = {
		name = germany.98.b
		ai_chance = { factor = 75 }

		trigger = {
			YUG = { 
				OR = { 
					owns_state = 103
					owns_state = 104
					owns_state = 109
				} 
			} 
		}

		if = {
			limit = {
				YUG = {
					OR = {
						is_in_faction = yes
						any_other_country = {
							has_guaranteed = YUG								
						}
					}
				}
			}
			YUG = { country_event = yugoslavia.8 }
			custom_effect_tooltip = germany.98_tt
			effect_tooltip = {
				add_political_power = -25
				add_named_threat = { threat = 3 name = GER_fate_of_yugoslavia }
				CRO = {
					if = {
						limit = { YUG = { owns_state = 103 } }
						transfer_state = 103
					}
					if = {
						limit = { YUG = { owns_state = 104 } }
						transfer_state = 104
					}
					if = {
						limit = { YUG = { owns_state = 109 } }
						transfer_state = 109
					}						
				}
				puppet = CRO
				annex_country = { target = YUG transfer_troops = no }
			}
		}

		#If no guarantee or faction Yug has no choice
		if = {
			limit = {
				YUG = { 
					is_in_faction = no
					NOT = {
						any_other_country = {
							has_guaranteed = YUG								
						}
					}
				}
			}
			add_political_power = -25
			add_named_threat = { threat = 3 name = GER_fate_of_yugoslavia }
			CRO = {
				if = {
					limit = { YUG = { owns_state = 103 } }
					transfer_state = 103
				}
				if = {
					limit = { YUG = { owns_state = 104 } }
					transfer_state = 104
				}
				if = {
					limit = { YUG = { owns_state = 109 } }
					transfer_state = 109
				}						
			}
			puppet = CRO
			annex_country = { target = YUG transfer_troops = no }

			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_puppet_CRO_annex_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}
		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes

	}

	option = {
		name = germany.98.c
		ai_chance = { factor = 5 }

		if = {
			limit = {
				YUG = {
					OR = {
						is_in_faction = yes
						any_other_country = {
							has_guaranteed = YUG								
						}
					}
				}
			}
			YUG = { country_event = yugoslavia.9 }
			custom_effect_tooltip = germany.98_tt
			effect_tooltip = {
				add_named_threat = { threat = 2 name = GER_fate_of_yugoslavia }
				
				CRO = {
					if = {
						limit = { YUG = { owns_state = 103 } }
						transfer_state = 103
					}
					if = {
						limit = { YUG = { owns_state = 104 } }
						transfer_state = 104
					}
					if = {
						limit = { YUG = { owns_state = 109 } }
						transfer_state = 109
					}						
				}
				puppet = CRO
				puppet = YUG


				hidden_effect = {
					set_global_flag = GER_fate_of_yugoslavia_puppet_CRO_YUG
					news_event = { hours = 6 id = news.169 }
				}
			}
		}

		#If no guarantee or faction Yug has no choice
		if = {
			limit = {
				YUG = { 
					is_in_faction = no
					NOT = {
						any_other_country = {
							has_guaranteed = YUG								
						}
					}
				}
			}
			add_named_threat = { threat = 2 name = GER_fate_of_yugoslavia }
			
			CRO = {
				if = {
					limit = { YUG = { owns_state = 103 } }
					transfer_state = 103
				}
				if = {
					limit = { YUG = { owns_state = 104 } }
					transfer_state = 104
				}
				if = {
					limit = { YUG = { owns_state = 109 } }
					transfer_state = 109
				}						
			}
			puppet = CRO
			puppet = YUG


			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_puppet_CRO_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}
		custom_effect_tooltip = yugoslavia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
	}
}

# Germany: Italy demands lands in Vichy France
country_event = {
	id = germany.104
	title = germany.104.t
	desc = { text = germany.104.d_Savoy 					trigger = { has_global_flag = ITA_claims_on_france_735 } }
	desc = { text = germany.104.d_Corsica 				trigger = { has_global_flag = ITA_claims_on_france_1 } }
	desc = { text = germany.104.d_Savoy_Corsica 	trigger = { has_global_flag = ITA_claims_on_france_735 has_global_flag = ITA_claims_on_france_1 } }
 
 
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes

	# Italy gets 1 state Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.a
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
		clr_global_flag = ITA_claims_on_france_1
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}
		ITA = { country_event = { id = italy.16 hours = 2 } }
	}

	# Italy gets 1 state Corsica
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.b
		trigger = {
			NOT = { has_global_flag = ITA_claims_on_france_735 }
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}		
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.c
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			NOT = { has_global_flag = ITA_claims_on_france_1 }
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}				
		ITA = { country_event = { id = italy.15 hours = 2 } }		
	}

	# Italy gets Savoy and Corsica
	option = {
		ai_chance = { factor = 20 }
		name = germany.104.e
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}				
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets nothing 
	option = {
		ai_chance = { factor = 10 }
		name = germany.104.f
		ITA = { country_event = { id = italy.14 hours = 2 } }
	}
}

# Germany: Treaty Of Craiova
country_event = {
	id = germany.106
	title = germany.106.t
	desc = { text = germany.106.d_second_vienna_accepted_all trigger = { ROM = { has_country_flag = second_vienna_accepted_all } } }
	desc = { text = germany.106.d_second_vienna_accepted_north trigger = { ROM = { has_country_flag = second_vienna_accepted_north } } }
	desc = {
		text = germany.106.d_no_vienna
		trigger = {
			ROM = {
				NOT = { has_country_flag = second_vienna_accepted_all }
				NOT = { has_country_flag = second_vienna_accepted_north }
			}
		}
	}
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = { # Give Bulgaria state 77
		name = germany.106.a
		ai_chance = { factor = 95 
			modifier = {
				factor = 0
				BUL = {
					is_in_faction = yes
					NOT = { is_in_faction_with = GER }
				}
			}
		}
		add_named_threat = { threat = 2 name = germany.106_threat }
		BUL = {
			add_opinion_modifier = { target = GER modifier = GER_treaty_of_craiova_GER }

			every_other_country = {
				limit = { 
					is_faction_leader = yes 
					NOT = { tag = GER }
				}				
				reverse_add_opinion_modifier = { target = BUL modifier = GER_treaty_of_craiova_other }
			}
		}
		ROM = {
			country_event = { id = romania.5 hours = 3 }
		}
	}
	option = { # Give Bulgaria nothing
		name = germany.106.b
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					BUL = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
					}
				}
			}
		}
		BUL = {
			add_opinion_modifier = { target = GER modifier = GER_treaty_of_craiova_noland }
			country_event = { id = bulgaria.5 hours = 4 }
		}
	}
}

# Flight of Rudolf No Hindenburg 
country_event = {
	id = germany.107
	title = germany.107.t
	desc = germany.107.d
	picture = GFX_report_event_airplane_crash
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.107.a
	}
}

# Rudolf Hess killed No Hindenburg
country_event = {
	id = germany.108
	title = germany.108.t
	desc = germany.108.d
	picture = GFX_report_event_airplane_crash
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
	}
}

# Flight of Rudolf Hess (Hindenburg)
country_event = {
	id = germany.109
	title = germany.107.t
	desc = germany.109.d
	picture = GFX_report_event_hindenburg_flames
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
	}
}

# Rudolf Hess Killed (Hindenburg)
country_event = {
	id = germany.110
	title = germany.108.t
	desc = germany.110.d
	picture = GFX_report_event_hindenburg_flames
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.110.a
	}
}

# Yugoslavia refuses
country_event = {
	id = germany.111
	title = germany.111.t
	desc = germany.111.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.111.a
		create_wargoal = {
			type = annex_everything
			target = YUG
		}
	}
}

#reset city name if retaken
country_event = {
	id = germany.1000
	title = germany.1000.t
	desc = germany.1000.desc
	picture = GFX_report_event_german_reichstag_gathering

	hidden = yes

	trigger = {
		SOV = {
			has_government = communism
			owns_state = 217 
			owns_state = 195 
		}
		OR = {
			has_global_flag = GER_cities_renamed
			has_global_flag = ROM_king_is_silly
		}
	}

	mean_time_to_happen = { days = 2 }

	option = { #a great idea!
		name = germany.1000.a
		ai_chance = {
			base = 100
		}
		reset_province_name = 3529
		reset_province_name = 3151
		clr_global_flag = GER_cities_renamed
		clr_global_flag = ROM_king_is_silly
	}
}

#remove MEFO bills
country_event = {
	id = germany.1001
	title = germany.1001.t
	desc = germany.1001.desc
	picture = GFX_report_event_german_reichstag_gathering

	hidden = yes

	trigger = {
		original_tag = GER
		GER_has_mefo_bills = yes
		any_other_country = {
			has_war_with = GER
			NOT = { original_tag = GER }
		}
	}

	mean_time_to_happen = { days = 2 }

	option = { #remove MEFO
		name = germany.1001.a
		ai_chance = {
			base = 100
		}
		ROOT = {
			GER_remove_mefo_bills = yes
			set_country_flag = mefo_bills_removed_through_war
		}
	}
}